<!DOCTYPE html>
<head lang="en">
    <meta charset="UTF-8"></meta>
    <title>Captcha Demo</title>
    <script type="text/javascript" src="jquery-3.3.1.min.js"></script>
</head>
<body>
<h1><span id="status">请输入验证码</span></h1>
<div>
    <img alt="验证码" id = "captcha_img" onclick="this.src='/captcha?d='+new Date()" src="/captcha"/>

    <input type="text" id="try_code"/>
    <input type="submit" id="submit_button" value="提交" class="btn btn-success">


</div>


</body>
</html>
<script>
    $("#submit_button").click(function () {
        var tryCode = $("#try_code").val();
        $.ajax({
            url: "/vrify",
            type: "POST",
            async: true,
            data: {
                "tryCode": tryCode
            },
            dataType: "json",
            success: function (data) {
                if (data["vrify_result"] == 0) {
                    $("#status").html("验证码正确！")
                } else {
                    $("#status").html("验证码错误！")
                }
            },
            error: function (err) {
                console.log(err.statusText);
            }
        });
    });

</script>